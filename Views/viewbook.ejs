<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>View Books</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" href="/style3.css">
</head>
<body class="bg-gray-100 min-h-screen">
  <%- include("adminNavBar.ejs") %>
<form action="/searchbook" method="GET" class="max-w-4xl mx-auto mt-10 px-4">
  <input type="search" name="query" placeholder="Search by Title, Author or Publisher"
    class="w-full px-4 py-2 border border-gray-300 rounded shadow"
    <!-- oninput="this.form.submit()" /> -->
</form>
  <div class="max-w-6xl mx-auto mt-6 px-4">
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow rounded text-center">
        <thead class="bg-blue-700 text-white">
          <tr>
            <th class="px-4 py-2">BID</th>
            <th class="px-4 py-2">Title</th>
            <th class="px-4 py-2">Author</th>
            <th class="px-4 py-2">Publisher</th>
            <th class="px-4 py-2">Update</th>
            <th class="px-4 py-2">Delete</th>
          </tr>
        </thead>
        
         <tbody>
  <% books.forEach((book, index) => { %>
    <tr class="border-t hover:bg-gray-100">
      <td class="px-4 py-2"><%= index + 1 %></td>
      <td class="px-4 py-2"><%= book.title %></td>
      <td class="px-4 py-2"><%= book.author %></td>
      <td class="px-4 py-2"><%= book.publisher %></td>
      <td class="px-4 py-2">
        <a href="/editbook/<%= book.id %>" class="text-blue-600 hover:text-blue-800">
          <i class="bi bi-pencil-square"></i>
        </a>
      </td>
      <td class="px-4 py-2">
        <a href="/deletebook/<%= book.id %>" class="text-red-600 hover:text-red-800" onclick="return confirm('Delete this book?')">
          <i class="bi bi-trash-fill"></i>
        </a>
      </td>
    </tr>
  <% }) %>


        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
